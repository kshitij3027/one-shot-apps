# E2E verification stories for pomodoro-app
# Append new stories here as features are added. Do not remove existing stories.

stories:
  - name: "App loads with Pomodoro timer"
    url: "http://localhost:8085"
    workflow: |
      Navigate to http://localhost:8085
      Verify the page loads successfully
      Verify the page title or heading contains "Pomodoro"
      Verify the timer display shows 25:00
      Verify the session label indicates "Work"
      Verify the four buttons Start, Pause, Stop, and Reset are visible

  - name: "Start and Pause control the countdown"
    url: "http://localhost:8085"
    workflow: |
      Navigate to http://localhost:8085
      Verify the timer display shows 25:00
      Click the Start button
      Wait 2 seconds
      Verify the timer display has decreased (e.g. shows 24:58 or 24:57)
      Click the Pause button
      Wait 2 seconds
      Verify the timer display has not changed (still shows the same time as after pause)

  - name: "Stop and Reset return timer to session initial time"
    url: "http://localhost:8085"
    workflow: |
      Navigate to http://localhost:8085
      Verify the timer shows 25:00
      Click the Start button
      Wait 3 seconds
      Verify the timer has decreased (e.g. 24:57)
      Click the Stop button
      Verify the timer shows 25:00 again
      Click the Start button
      Wait 2 seconds
      Click the Reset button
      Verify the timer shows 25:00 again

  - name: "Work session transitions to Break at 00:00"
    url: "http://localhost:8085"
    workflow: |
      Navigate to http://localhost:8085
      Verify the session label shows "Work" and the timer shows 25:00
      Click the Start button
      Wait until the timer reaches 00:00 (or use a short work duration if available)
      Verify the session label changes to "Break"
      Verify the timer shows 05:00 for the break session

  - name: "Custom work and break minutes apply when stopped"
    url: "http://localhost:8085"
    workflow: |
      Navigate to http://localhost:8085
      Verify the timer shows 25:00
      Set the Work (min) input to 2
      Set the Short break (min) input to 1
      Click the Start button
      Verify the timer shows 02:00 (work session with custom 2 minutes)
      Wait until the work timer reaches 00:00 (or wait about 2 minutes)
      Verify the session label shows "Break" and the timer shows 01:00 (custom short break)

  - name: "Long break every 4th break"
    url: "http://localhost:8085"
    workflow: |
      Navigate to http://localhost:8085
      Set Work (min) to 1 and Short break (min) to 1 and Long break (min) to 2
      Set "Long break every" to 4
      Complete 4 work-break cycles: Start work, wait for 00:00, then verify break (short for 1st, 2nd, 3rd; long for 4th)
      On the 4th break verify the session label shows "Long break" and the timer shows 02:00

  - name: "Sound plays when session ends (manual check)"
    url: "http://localhost:8085"
    workflow: |
      Navigate to http://localhost:8085
      Set Work (min) to 1
      Click Start and allow the work timer to run to 00:00
      Optionally verify that a short beep sound plays when the session ends (browser may require user interaction first)
